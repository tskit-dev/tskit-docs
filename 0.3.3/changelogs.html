

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Changelogs &mdash; tskit 0.3.3 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Tutorial" href="tutorial.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> tskit
          

          
            
            <img src="_static/tskit_logo_pale.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="python-api.html">Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="stats.html">Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="c-api.html">C API</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command line interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-model.html">Data model</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="combinatorics.html">Combinatorics</a></li>
<li class="toctree-l1"><a class="reference internal" href="provenance.html">Provenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Changelogs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#python">Python</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">[0.3.3] - 2020-11-27</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">[0.3.2] - 2020-09-29</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">[0.3.1] - 2020-09-04</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">[0.3.0] - 2020-08-27</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id5">[0.2.3] - 2019-11-22</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">[0.2.2] - 2019-09-01</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">[0.2.1] - 2019-08-23</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">[0.1.5] - 2019-03-27</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">[0.1.4] - 2019-02-01</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">[0.1.3] - 2019-01-14</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">[0.1.2] - 2019-01-14</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">[0.1.1] - 2019-01-11</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">[0.1.0] - 2019-01-11</a></li>
<li class="toctree-l3"><a class="reference internal" href="#a1-2019-01-10">[1.1.0a1] - 2019-01-10</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id14">[0.0.0] - 2019-01-10</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#c-api">C API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id15">[0.99.8] - 2020-11-27</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id16">[0.99.7] - 2020-09-29</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id17">[0.99.6] - 2020-09-04</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id18">[0.99.5] - 2020-08-27</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id19">[0.99.4] - 2020-08-12</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id20">[0.99.3] - 2020-07-27</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id21">[0.99.2] - 2019-03-27</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id22">[0.99.1] - 2019-01-24</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id23">[0.99.0] - 2019-01-14</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id24">[0.0.0] - 2019-01-10</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">tskit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Changelogs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/tskit-dev/tskit/blob/main/docs/changelogs.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="changelogs">
<span id="sec-changelogs"></span><h1>Changelogs<a class="headerlink" href="#changelogs" title="Permalink to this headline">¶</a></h1>
<div class="section" id="python">
<h2>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>[0.3.3] - 2020-11-27<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Expose <code class="docutils literal notranslate"><span class="pre">TreeSequence.coiterate()</span></code> method to allow iteration over 2 sequences
simultaneously, aiding comparison of trees from two sequences
(<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1021">#1021</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1022">#1022</a>).</p></li>
<li><p>tskit is now supported on, and has wheels for, python3.9
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/982">#982</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/907">#907</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Tree.newick()</span></code> now has extra option <code class="docutils literal notranslate"><span class="pre">include_branch_lengths</span></code> to allow branch
lengths to be omitted (<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/931">#931</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">Tree.generate_star</span></code> static method to create star-topologies (<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/934">#934</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">Tree.generate_comb</span></code> and <code class="docutils literal notranslate"><span class="pre">Tree.generate_balanced</span></code> methods to create
example trees. (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1026">#1026</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">equals</span></code> method to TreeSequence, TableCollection and each of the tables which
provides more flexible equality comparisons, for example, allowing
users to ignore metadata or provenance in the comparison
(<a class="reference external" href="https://github.com/mufernando">&#64;mufernando</a>, <a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/896">#896</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/897">#897</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/913">#913</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/917">#917</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> to TreeSequence
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1011">#1011</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1020">#1020</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ts.dump</span></code> and <code class="docutils literal notranslate"><span class="pre">tskit.load</span></code> now support reading and writing file objects such as
FIFOs and sockets (<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/657">#657</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/909">#909</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">tskit.write_ms</span></code> for writing to MS format
(<a class="reference external" href="https://github.com/saurabhbelsare">&#64;saurabhbelsare</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/727">#727</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/854">#854</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">TableCollection.indexes</span></code> for access to the edge insertion/removal order indexes
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/4">#4</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/916">#916</a>).</p></li>
<li><p>The dictionary representation of a TableCollection now contains its index
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/870">#870</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/921">#921</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">TreeSequence._repr_html_</span></code> for use in jupyter notebooks
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/872">#872</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/923">#923</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">TreeSequence.__str__</span></code> to display a summary for terminal usage
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/938">#938</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/985">#985</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">TableCollection.dump</span></code> and <code class="docutils literal notranslate"><span class="pre">TableCollection.load</span></code>. This allows table
collections that are not valid tree sequences to be manipulated
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/14">#14</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/986">#986</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">nbytes</span></code> method to tables, <code class="docutils literal notranslate"><span class="pre">TableCollection</span></code> and <code class="docutils literal notranslate"><span class="pre">TreeSequence</span></code> which
reports the size in bytes of those objects
(<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/54">#54</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/871">#871</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">TableCollection.clear</span></code> to clear data table rows and optionally
provenances, table schemas and tree-sequence level metadata and schema
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/929">#929</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1001">#1001</a>).</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LightWeightTableCollection.asdict</span></code> and <code class="docutils literal notranslate"><span class="pre">TableCollection.asdict</span></code> now return copies
of arrays (<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1025">#1025</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1029">#1029</a>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">map_mutations</span></code> method previously used the Fitch parsimony method, but this
does not produce parsimonious results on non-binary trees. We now now use the
Hartigan parsimony algorithm, which does (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/987">#987</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1030">#1030</a>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">flag</span></code> argument to tables’ <code class="docutils literal notranslate"><span class="pre">add_row</span></code> was treating the value as signed
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1027">#1027</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1031">#1031</a>).</p></li>
</ul>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>The argument to <code class="docutils literal notranslate"><span class="pre">ts.dump</span></code> and <code class="docutils literal notranslate"><span class="pre">tskit.load</span></code> has been renamed <cite>file</cite> from <cite>path</cite>.</p></li>
<li><p>All arguments to <code class="docutils literal notranslate"><span class="pre">Tree.newick()</span></code> except precision are now keyword-only.</p></li>
<li><p>Renamed <code class="docutils literal notranslate"><span class="pre">ts.trait_regression</span></code> to <code class="docutils literal notranslate"><span class="pre">ts.trait_linear_model</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id2">
<h3>[0.3.2] - 2020-09-29<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>The argument order of <code class="docutils literal notranslate"><span class="pre">Tree.unrank</span></code> and <code class="docutils literal notranslate"><span class="pre">combinatorics.num_labellings</span></code> now
positions the number of leaves before the tree rank
(<a class="reference external" href="https://github.com/daniel-goldstein">&#64;daniel-goldstein</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/950">#950</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/978">#978</a>)</p></li>
<li><p>Change several methods (<code class="docutils literal notranslate"><span class="pre">simplify()</span></code>, <code class="docutils literal notranslate"><span class="pre">trees()</span></code>, <code class="docutils literal notranslate"><span class="pre">Tree()</span></code>) so most parameters
are keyword only, not positional. This allows reordering of parameters, so
that deprecated parameters can be moved, and the parameter order in similar functions,
e.g. <code class="docutils literal notranslate"><span class="pre">TableCollection.simplify</span></code> and <code class="docutils literal notranslate"><span class="pre">TreeSequence.simplify()</span></code> can be made
consistent (<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/374">#374</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/846">#846</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/851">#851</a>)</p></li>
</ul>
<p><strong>Features</strong></p>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">split_polytomies</span></code> method to the Tree class
(<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/809">#809</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/815">#815</a>)</p></li>
<li><p>Tree accessor functions (e.g. <code class="docutils literal notranslate"><span class="pre">ts.first()</span></code>, <code class="docutils literal notranslate"><span class="pre">ts.at()</span></code> pass extra parameters such as
<code class="docutils literal notranslate"><span class="pre">sample_indexes</span></code> to the underlying <code class="docutils literal notranslate"><span class="pre">Tree</span></code> constructor; also <code class="docutils literal notranslate"><span class="pre">root_threshold</span></code> can
be specified when calling <code class="docutils literal notranslate"><span class="pre">ts.trees()</span></code> (<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/847">#847</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/848">#848</a>)</p></li>
<li><p>Genomic intervals returned by python functions are now namedtuples, allowing <code class="docutils literal notranslate"><span class="pre">.left</span></code>
<code class="docutils literal notranslate"><span class="pre">.right</span></code> and <code class="docutils literal notranslate"><span class="pre">.span</span></code> usage (<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/784">#784</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/786">#786</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/811">#811</a>)</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">include_terminal</span></code> parameter to edge diffs iterator, to output the last edges
at the end of a tree sequence (<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/783">#783</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/787">#787</a>)</p></li>
<li><p><a class="reference external" href="https://github.com/tskit-dev/tskit/issues/832">#832</a> - Add <code class="docutils literal notranslate"><span class="pre">metadata_bytes</span></code> method to allow access to raw
TableCollection metadata (<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/842">#842</a>)</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">tree.is_isolated(u)</span></code> method (<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/443">#443</a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tskit.is_unknown_time</span></code> can now check arrays. (<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/857">#857</a>).</p></li>
</ul>
</div>
<div class="section" id="id3">
<h3>[0.3.1] - 2020-09-04<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/tskit-dev/tskit/issues/823">#823</a> - Fix mutation time error when using
<code class="docutils literal notranslate"><span class="pre">simplify(keep_input_roots=True)</span></code> (<a class="reference external" href="https://github.com/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/823">#823</a>).</p></li>
<li><p><a class="reference external" href="https://github.com/tskit-dev/tskit/issues/821">#821</a> - Fix mutation rows with unknown time never being
equal (<a class="reference external" href="https://github.com/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/822">#822</a>).</p></li>
</ul>
</div>
<div class="section" id="id4">
<h3>[0.3.0] - 2020-08-27<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Major feature release for metadata schemas, set-like operations, mutation times,
SVG drawing improvements and many others.</p>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>The default display order for tree visualisations has been changed to <code class="docutils literal notranslate"><span class="pre">minlex</span></code>
(see below) to stabilise the node ordering and to make trees more readily
comparable. The old behaviour is still available with <code class="docutils literal notranslate"><span class="pre">order=&quot;tree&quot;</span></code>.</p></li>
<li><p>File system operations such as dump/load now raise an appropriate OSError
instead of <code class="docutils literal notranslate"><span class="pre">tskit.FileFormatError</span></code>. Loading from an empty file now raises
and <code class="docutils literal notranslate"><span class="pre">EOFError</span></code>.</p></li>
<li><p>Bad tree topologies are detected earlier, so that it is no longer possible
to create a <code class="docutils literal notranslate"><span class="pre">TreeSequence</span></code> object which contains a parent with contradictory
children on an interval. Previously an error was thrown when some operation
building the trees was attempted (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/709">#709</a>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">TableCollection</span> <span class="pre">object</span></code> no longer implements the iterator protocol.
Previously <code class="docutils literal notranslate"><span class="pre">list(tables)</span></code> returned a sequence of (table_name, table_instance)
tuples. This has been replaced with the more intuitive and future-proof
<code class="docutils literal notranslate"><span class="pre">TableCollection.name_map</span></code> and <code class="docutils literal notranslate"><span class="pre">TreeSequence.tables_dict</span></code> attributes, which
perform the same function (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/500">#500</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/694">#694</a>).</p></li>
<li><p>The arguments to <code class="docutils literal notranslate"><span class="pre">TreeSequence.genotype_matrix</span></code>, <code class="docutils literal notranslate"><span class="pre">TreeSequence.haplotypes</span></code>
and <code class="docutils literal notranslate"><span class="pre">TreeSequence.variants</span></code> must now be keyword arguments, not positional. This
is to support the change from <code class="docutils literal notranslate"><span class="pre">impute_missing_data</span></code> to <code class="docutils literal notranslate"><span class="pre">isolated_as_missing</span></code>
in the arguments to these methods. (<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/716">#716</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/794">#794</a>)</p></li>
</ul>
<p><strong>New features</strong></p>
<ul class="simple">
<li><p>New methods to perform set operations on TableCollections and TreeSequences.
<code class="docutils literal notranslate"><span class="pre">TableCollection.subset</span></code> subsets and reorders table collections by nodes
(<a class="reference external" href="https://github.com/mufernando">&#64;mufernando</a>, <a class="reference external" href="https://github.com/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/663">#663</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/690">#690</a>).
<code class="docutils literal notranslate"><span class="pre">TableCollection.union</span></code> forms the node-wise union of two table collections
(<a class="reference external" href="https://github.com/mufernando">&#64;mufernando</a>, <a class="reference external" href="https://github.com/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/381">#381</a> <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/623">#623</a>).</p></li>
<li><p>Mutations now have an optional double-precision floating-point <code class="docutils literal notranslate"><span class="pre">time</span></code> column.
If not specified, this defaults to a particular <code class="docutils literal notranslate"><span class="pre">NaN</span></code> value (<code class="docutils literal notranslate"><span class="pre">tskit.UNKNOWN_TIME</span></code>)
indicating that the time is unknown. For a tree sequence to be considered valid
it must meet new criteria for mutation times, see <a class="reference internal" href="data-model.html#sec-mutation-requirements"><span class="std std-ref">Mutation requirements</span></a>.
Also added function <code class="docutils literal notranslate"><span class="pre">TableCollection.compute_mutation_times</span></code>. Table sorting orders
mutations by non-increasing time per-site, which is also a requirement for a valid tree
sequence (<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/672">#672</a>).</p></li>
<li><p>Add support for trees with internal samples for the Kendall-Colijn tree distance
metric. (<a class="reference external" href="https://github.com/daniel-goldstein">&#64;daniel-goldstein</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/610">#610</a>)</p></li>
<li><p>Add background shading to SVG tree sequences to reflect tree position along the
sequence (<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/563">#563</a>).</p></li>
<li><p>Tables with a metadata column now have a <code class="docutils literal notranslate"><span class="pre">metadata_schema</span></code> that is used to
validate and encode metadata that is passed to <code class="docutils literal notranslate"><span class="pre">add_row</span></code> and decode metadata
on calls to <code class="docutils literal notranslate"><span class="pre">table[j]</span></code> and e.g. <code class="docutils literal notranslate"><span class="pre">tree_sequence.node(j)</span></code> See <a class="reference internal" href="metadata.html#sec-metadata"><span class="std std-ref">Metadata</span></a>
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/491">#491</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/542">#542</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/543">#543</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/601">#601</a>).</p></li>
<li><p>The tree-sequence now has top-level metadata with a schema
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/666">#666</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/644">#644</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/642">#642</a>).</p></li>
<li><p>Add classes to SVG drawings to allow easy adjustment and styling, and document the new
<code class="docutils literal notranslate"><span class="pre">tskit.Tree.draw_svg()</span></code> and <code class="docutils literal notranslate"><span class="pre">tskit.TreeSequence.draw_svg()</span></code> methods. This also fixes
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/467">#467</a> for duplicate SVG entity <code class="docutils literal notranslate"><span class="pre">id</span></code> s in Jupyter notebooks
(<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/555">#555</a>).</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">to_nexus</span></code> function that outputs a tree sequence in Nexus format
(<a class="reference external" href="https://github.com/saunack">&#64;saunack</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/550">#550</a>).</p></li>
<li><p>Add extension of Kendall-Colijn tree distance metric for tree sequences
computed by <code class="docutils literal notranslate"><span class="pre">TreeSequence.kc_distance</span></code>
(<a class="reference external" href="https://github.com/daniel-goldstein">&#64;daniel-goldstein</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/548">#548</a>).</p></li>
<li><p>Add an optional node traversal order in <code class="docutils literal notranslate"><span class="pre">tskit.Tree</span></code> that uses the minimum
lexicographic order of leaf nodes visited. This ordering (<code class="docutils literal notranslate"><span class="pre">&quot;minlex_postorder&quot;</span></code>)
adds more determinism because it constraints the order in which children of
a node are visited (<a class="reference external" href="https://github.com/brianzhang01">&#64;brianzhang01</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/411">#411</a>).</p></li>
<li><p>Add an <code class="docutils literal notranslate"><span class="pre">order</span></code> argument to the tree visualisation functions which supports
two node orderings: <code class="docutils literal notranslate"><span class="pre">&quot;tree&quot;</span></code> (the previous default) and <code class="docutils literal notranslate"><span class="pre">&quot;minlex&quot;</span></code>
which stabilises the node ordering (making it easier to compare trees).
The default node ordering is changed to <code class="docutils literal notranslate"><span class="pre">&quot;minlex&quot;</span></code>
(<a class="reference external" href="https://github.com/brianzhang01">&#64;brianzhang01</a>, <a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/389">#389</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/566">#566</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">_repr_html_</span></code> to tables, so that jupyter notebooks render them as
html tables (<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/514">#514</a>).</p></li>
<li><p>Remove support for <code class="docutils literal notranslate"><span class="pre">kc_distance</span></code> on trees with unary nodes
(<a class="reference external" href="https://github.com/daniel-goldstein">&#64;daniel-goldstein</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/508">#508</a>).</p></li>
<li><p>Improve Kendall-Colijn tree distance algorithm to operate in O(n^2) time
instead of O(n^2 * log(n)) where n is the number of samples
(<a class="reference external" href="https://github.com/daniel-goldstein">&#64;daniel-goldstein</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/490">#490</a>).</p></li>
<li><p>Add a metadata column to the migrations table. Works similarly to existing
metadata columns on other tables (<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/505">#505</a>).</p></li>
<li><p>Add a metadata column to the edges table. Works similarly to existing
metadata columns on other tables (<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/496">#496</a>).</p></li>
<li><p>Allow sites with missing data to be output by the <code class="docutils literal notranslate"><span class="pre">haplotypes</span></code> method, by
default replacing with <code class="docutils literal notranslate"><span class="pre">-</span></code>. Errors are no longer raised for missing data
with <code class="docutils literal notranslate"><span class="pre">isolated_as_missing=True</span></code>; the error types returned for bad alleles
(e.g. multiletter or non-ascii) have also changed from <code class="docutils literal notranslate"><span class="pre">_tskit.LibraryError</span></code>
to TypeError, or ValueError if the missing data character clashes
(<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/426">#426</a>).</p></li>
<li><p>Access the number of children of a node in a tree directly using
<code class="docutils literal notranslate"><span class="pre">tree.num_children(u)</span></code> (<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/436">#436</a>).</p></li>
<li><p>User specified allele mapping for genotypes in <code class="docutils literal notranslate"><span class="pre">variants</span></code> and
<code class="docutils literal notranslate"><span class="pre">genotype_matrix</span></code> (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/430">#430</a>).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">root_threshold</span></code> option for the Tree class, which allows
us to efficiently iterate over ‘real’ roots when we have
missing data (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/462">#462</a>).</p></li>
<li><p>Add pickle support for <code class="docutils literal notranslate"><span class="pre">TreeSequence</span></code> (<a class="reference external" href="https://github.com/terhorst">&#64;terhorst</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/473">#473</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">tree.as_dict_of_dicts()</span></code> function to enable use with networkx. See
<a class="reference internal" href="tutorial.html#sec-tutorial-networkx"><span class="std std-ref">Traversals with networkx</span></a> (<a class="reference external" href="https://github.com/winni2k">&#64;winni2k</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/457">#457</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">tree_sequence.to_macs()</span></code> function to convert tree sequence to MACS
format (<a class="reference external" href="https://github.com/winni2k">&#64;winni2k</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/727">#727</a>)</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">keep_input_roots</span></code> option to simplify which, if enabled, adds edges
from the MRCAs of samples in the simplified tree sequence back to the roots
in the input tree sequence (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/775">#775</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/782">#782</a>).</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/tskit-dev/tskit/issues/453">#453</a> - Fix LibraryError when <code class="docutils literal notranslate"><span class="pre">tree.newick()</span></code> is called with large node time
values (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/637">#637</a>).</p></li>
<li><p><a class="reference external" href="https://github.com/tskit-dev/tskit/issues/777">#777</a> - Mutations over isolated samples were incorrectly decoded as
missing data. (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/778">#778</a>)</p></li>
<li><p><a class="reference external" href="https://github.com/tskit-dev/tskit/issues/776">#776</a> - Fix a segfault when a partial list of samples
was provided to the <code class="docutils literal notranslate"><span class="pre">variants</span></code> iterator. (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/778">#778</a>)</p></li>
</ul>
<p><strong>Deprecated</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">sample_counts</span></code> feature has been deprecated and is now
ignored. Sample counts are now always computed.</p></li>
<li><p>For <code class="docutils literal notranslate"><span class="pre">TreeSequence.genotype_matrix</span></code>, <code class="docutils literal notranslate"><span class="pre">TreeSequence.haplotypes</span></code>
and <code class="docutils literal notranslate"><span class="pre">TreeSequence.variants</span></code> the <code class="docutils literal notranslate"><span class="pre">impute_missing_data</span></code> argument is deprecated
and replaced with <code class="docutils literal notranslate"><span class="pre">isolated_as_missing</span></code>. Note that to get the same behaviour
<code class="docutils literal notranslate"><span class="pre">impute_missing_data=True</span></code> should be replaced with <code class="docutils literal notranslate"><span class="pre">isolated_as_missing=False</span></code>.
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/716">#716</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/794">#794</a>)</p></li>
</ul>
</div>
<div class="section" id="id5">
<h3>[0.2.3] - 2019-11-22<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>Minor feature release, providing a tree distance metric and various
method to manipulate tree sequence data.</p>
<p><strong>New features</strong></p>
<ul class="simple">
<li><p>Kendall-Colijn tree distance metric computed by <code class="docutils literal notranslate"><span class="pre">Tree.kc_distance</span></code>
(<a class="reference external" href="https://github.com/awohns">&#64;awohns</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/172">#172</a>).</p></li>
<li><p>New “timeasc” and “timedesc” orders for tree traversals
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/246">#246</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/399">#399</a>).</p></li>
<li><p>Up to 2X performance improvements to tree traversals (<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/400">#400</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">trim</span></code>, <code class="docutils literal notranslate"><span class="pre">delete_sites</span></code>, <code class="docutils literal notranslate"><span class="pre">keep_intervals</span></code> and <code class="docutils literal notranslate"><span class="pre">delete_intervals</span></code>
methods to edit tree sequence data. (<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/364">#364</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/372">#372</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/377">#377</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/390">#390</a>).</p></li>
<li><p>Initial online documentation for CLI (<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/414">#414</a>).</p></li>
<li><p>Various documentation improvements (<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>,
<a class="reference external" href="https://github.com/petrelharp">&#64;petrelharp</a>).</p></li>
<li><p>Rename the <code class="docutils literal notranslate"><span class="pre">map_ancestors</span></code> function to <code class="docutils literal notranslate"><span class="pre">link_ancestors</span></code>
(<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/gtsambos">&#64;gtsambos</a>; <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/406">#406</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/262">#262</a>). The original function is retained as an deprecated alias.</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Fix height scaling issues with SVG tree drawing (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/407">#407</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/383">#383</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/378">#378</a>).</p></li>
<li><p>Do not reuse buffers in <code class="docutils literal notranslate"><span class="pre">LdCalculator</span></code> (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/397">#397</a> and
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/396">#396</a>.</p></li>
</ul>
</div>
<div class="section" id="id6">
<h3>[0.2.2] - 2019-09-01<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>Minor bugfix release.</p>
<p>Relaxes overly-strict input requirements on individual location data that
caused some SLiM tree sequences to fail loading in version 0.2.1
(see <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/351">#351</a>).</p>
<p><strong>New features</strong></p>
<ul class="simple">
<li><p>Add log_time height scaling option for drawing SVG trees
(<a class="reference external" href="https://github.com/marianne-aspbury">&#64;marianne-aspbury</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/324">#324</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/303">#303</a>.</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Allow 4G metadata columns (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/342">#342</a> and
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/341">#341</a>.</p></li>
</ul>
</div>
<div class="section" id="id7">
<h3>[0.2.1] - 2019-08-23<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>Major feature release, adding support for population genetic statistics,
improved VCF output and many other features.</p>
<p><strong>Note:</strong> Version 0.2.0 was skipped because of an error uploading to PyPI
which could not be undone.</p>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>Genotype arrays returned by <code class="docutils literal notranslate"><span class="pre">TreeSequence.variants</span></code> and
<code class="docutils literal notranslate"><span class="pre">TreeSequence.genotype_matrix</span></code> have changed from unsigned 8 bit values
to signed 8 bit values to accomodate missing data (see <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/144">#144</a> for
discussion). Specifically, the dtype of the genotypes arrays have changed
from numpy “u8” to “i8”. This should not affect client code in any way
unless it specifically depends on the type of the returned numpy array.</p></li>
<li><p>The VCF written by the <code class="docutils literal notranslate"><span class="pre">write_vcf</span></code> is no longer compatible with previous
versions, which had significant shortcomings. Position values are now rounded
to the nearest integer by default, REF and ALT values are derived from the
actual allelic states (rather than always being A and T). Sample names
are now of the form <code class="docutils literal notranslate"><span class="pre">tsk_j</span></code> for sample ID j. Most of the legacy behaviour
can be recovered with new options, however.</p></li>
<li><p>The positional parameter <code class="docutils literal notranslate"><span class="pre">reference_sets</span></code> in <code class="docutils literal notranslate"><span class="pre">genealogical_nearest_neighbours</span></code>
and <code class="docutils literal notranslate"><span class="pre">mean_descendants</span></code> TreeSequence methods has been renamed to
<code class="docutils literal notranslate"><span class="pre">sample_sets</span></code>.</p></li>
</ul>
<p><strong>New features</strong></p>
<ul class="simple">
<li><p>Support for general windowed statistics. Implementations of diversity,
divergence, segregating sites, Tajima’s D, Fst, Patterson’s F statistics,
Y statistics, trait correlations and covariance, and k-dimensional allele
frequency specra (<a class="reference external" href="https://github.com/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/molpopgen">&#64;molpopgen</a>).</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">keep_unary</span></code> option to simplify (<a class="reference external" href="https://github.com/gtsambos">&#64;gtsambos</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1">#1</a>
and <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/143">#143</a>.</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">map_ancestors</span></code> method to TableCollection (user:<cite>gtsambos</cite>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/175">#175</a>.</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">squash</span></code> method to EdgeTable (<a class="reference external" href="https://github.com/gtsambos">&#64;gtsambos</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/59">#59</a> and
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/285">#285</a>.</p></li>
<li><p>Add support for individuals to VCF output, and fix major issues with output
format (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>). Position values are transformed in a much
more straightforward manner and output has been generalised substantially.
Adds <code class="docutils literal notranslate"><span class="pre">individual_names</span></code> and <code class="docutils literal notranslate"><span class="pre">position_transform</span></code> arguments.
See <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/286">#286</a>, and issues <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/2">#2</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/30">#30</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/73">#73</a>.</p></li>
<li><p>Control height scale in SVG trees using ‘tree_height_scale’ and ‘max_tree_height’
(<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/167">#167</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/168">#168</a>.
Various other improvements to tree drawing (<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/235">#235</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/241">#241</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/242">#242</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/252">#252</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/259">#259</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Tree.max_root_time</span></code> property (<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>).
See <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/170">#170</a>.</p></li>
<li><p>Improved input checking on various methods taking numpy arrays as parameters
(<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/8">#8</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/185">#185</a>.</p></li>
<li><p>Define the branch length over roots in trees to be zero (previously raise
an error; <a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/188">#188</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/191">#191</a>.</p></li>
<li><p>Implementation of the genealogical nearest neighbours statistic
(<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>).</p></li>
<li><p>New <code class="docutils literal notranslate"><span class="pre">delete_intervals</span></code> and <code class="docutils literal notranslate"><span class="pre">keep_intervals</span></code> method for the TableCollection
to allow slicing out of topology from specific intervals (<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>,
<a class="reference external" href="https://github.com/andrewkern">&#64;andrewkern</a>, <a class="reference external" href="https://github.com/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>). See
<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/225">#225</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/261">#261</a>.</p></li>
<li><p>Support for missing data via a topological definition (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>).
See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/270">#270</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/272">#272</a>.</p></li>
<li><p>Add ability to set columns directly in the Tables API (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>).
See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/12">#12</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/307">#307</a>.</p></li>
<li><p>Various documentation improvements from <a class="reference external" href="https://github.com/brianzhang01">&#64;brianzhang01</a>, <a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>,
<a class="reference external" href="https://github.com/petrelharp">&#64;petrelharp</a> and <a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>.</p></li>
</ul>
<p><strong>Deprecated</strong></p>
<ul class="simple">
<li><p>Deprecate <code class="docutils literal notranslate"><span class="pre">Tree.length</span></code> in favour of <code class="docutils literal notranslate"><span class="pre">Tree.span</span></code> (<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>).
See <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/169">#169</a>.</p></li>
<li><p>Deprecate <code class="docutils literal notranslate"><span class="pre">TreeSequence.pairwise_diversity</span></code> in favour of the new
<code class="docutils literal notranslate"><span class="pre">diversity</span></code> method. See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/215">#215</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/312">#312</a>.</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Catch NaN and infinity values within tables (<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>).
See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/293">#293</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/294">#294</a>.</p></li>
</ul>
</div>
<div class="section" id="id8">
<h3>[0.1.5] - 2019-03-27<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>This release removes support for Python 2, adds more flexible tree access and a
new <code class="docutils literal notranslate"><span class="pre">tskit</span></code> command line interface.</p>
<p><strong>New features</strong></p>
<ul class="simple">
<li><p>Remove support for Python 2 (<a class="reference external" href="https://github.com/hugovk">&#64;hugovk</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/137">#137</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/140">#140</a>.</p></li>
<li><p>More flexible tree API (<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/121">#121</a>). Adds <code class="docutils literal notranslate"><span class="pre">TreeSequence.at</span></code> and
<code class="docutils literal notranslate"><span class="pre">TreeSequence.at_index</span></code> methods to find specific trees, and efficient support
for backwards traversal using <code class="docutils literal notranslate"><span class="pre">reversed(ts.trees())</span></code>.</p></li>
<li><p>Add initial <code class="docutils literal notranslate"><span class="pre">tskit</span></code> CLI (<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/80">#80</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">tskit</span> <span class="pre">info</span></code> CLI command (<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/66">#66</a>)</p></li>
<li><p>Enable drawing SVG trees with coloured edges (<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>; <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/149">#149</a>).</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Tree.is_descendant</span></code> method (<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/120">#120</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">Tree.copy</span></code> method (<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/122">#122</a>)</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Fixes to the low-level C API (<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/132">#132</a> and <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/157">#157</a>)</p></li>
</ul>
</div>
<div class="section" id="id9">
<h3>[0.1.4] - 2019-02-01<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>Minor feature update. Using the C API 0.99.1.</p>
<p><strong>New features</strong></p>
<ul class="simple">
<li><p>Add interface for setting TableCollection.sequence_length:
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/107">https://github.com/tskit-dev/tskit/issues/107</a></p></li>
<li><p>Add support for building and dropping TableCollection indexes:
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/108">https://github.com/tskit-dev/tskit/issues/108</a></p></li>
</ul>
</div>
<div class="section" id="id10">
<h3>[0.1.3] - 2019-01-14<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<p>Bugfix release.</p>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Fix missing provenance schema: <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/81">https://github.com/tskit-dev/tskit/issues/81</a></p></li>
</ul>
</div>
<div class="section" id="id11">
<h3>[0.1.2] - 2019-01-14<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>Bugfix release.</p>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Fix memory leak in table collection. <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/76">https://github.com/tskit-dev/tskit/issues/76</a></p></li>
</ul>
</div>
<div class="section" id="id12">
<h3>[0.1.1] - 2019-01-11<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>Fixes broken distribution tarball for 0.1.0.</p>
</div>
<div class="section" id="id13">
<h3>[0.1.0] - 2019-01-11<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<p>Initial release after separation from msprime 0.6.2. Code that reads tree sequence
files and processes them should be able to work without changes.</p>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>Removal of the previously deprecated <code class="docutils literal notranslate"><span class="pre">sort_tables</span></code>, <code class="docutils literal notranslate"><span class="pre">simplify_tables</span></code>
and <code class="docutils literal notranslate"><span class="pre">load_tables</span></code> functions. All code should change to using corresponding
TableCollection methods.</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">SparseTree</span></code> class to <code class="docutils literal notranslate"><span class="pre">Tree</span></code>.</p></li>
</ul>
</div>
<div class="section" id="a1-2019-01-10">
<h3>[1.1.0a1] - 2019-01-10<a class="headerlink" href="#a1-2019-01-10" title="Permalink to this headline">¶</a></h3>
<p>Initial alpha version posted to PyPI for bootstrapping.</p>
</div>
<div class="section" id="id14">
<h3>[0.0.0] - 2019-01-10<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<p>Initial extraction of tskit code from msprime. Relicense to MIT.</p>
<p>Code copied at hash 29921408661d5fe0b1a82b1ca302a8b87510fd23</p>
</div>
</div>
<div class="section" id="c-api">
<h2>C API<a class="headerlink" href="#c-api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id15">
<h3>[0.99.8] - 2020-11-27<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>Added an <code class="docutils literal notranslate"><span class="pre">options</span></code> argument to <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_equals</span></code>
and table equality methods to allow for more flexible equality criteria
(e.g., ignore top-level metadata and schema or provenance tables).
Existing code should add an extra final parameter <code class="docutils literal notranslate"><span class="pre">0</span></code> to retain the
current behaviour (<a class="reference external" href="https://github.com/mufernando">&#64;mufernando</a>, <a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>,
<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/896">#896</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/897">#897</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/913">#913</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/917">#917</a>).</p></li>
<li><p>Changed default behaviour of <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_clear</span></code> to not clear
provenances and added <code class="docutils literal notranslate"><span class="pre">options</span></code> argument to optionally clear provenances
and schemas (<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/929">#929</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/1001">#1001</a>).</p></li>
<li><p>Exposed <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_set_indexes</span></code> to the API
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/870">#870</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/921">#921</a>).</p></li>
<li><p>Renamed <code class="docutils literal notranslate"><span class="pre">ts.trait_regression</span></code> to <code class="docutils literal notranslate"><span class="pre">ts.trait_linear_model</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id16">
<h3>[0.99.7] - 2020-09-29<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">TSK_INCLUDE_TERMINAL</span></code> option to <code class="docutils literal notranslate"><span class="pre">tsk_diff_iter_init</span></code> to output the last edges
at the end of a tree sequence (<a class="reference external" href="https://github.com/hyanwong">&#64;hyanwong</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/783">#783</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/787">#787</a>).</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">tsk_bug_assert</span></code> for assertions that should be compiled into release binaries
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/860">#860</a>).</p></li>
</ul>
</div>
<div class="section" id="id17">
<h3>[0.99.6] - 2020-09-04<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/tskit-dev/tskit/issues/823">#823</a> - Fix mutation time error when using
<code class="docutils literal notranslate"><span class="pre">tsk_table_collection_simplify</span></code> with <code class="docutils literal notranslate"><span class="pre">TSK_KEEP_INPUT_ROOTS</span></code>
(<a class="reference external" href="https://github.com/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/823">#823</a>).</p></li>
</ul>
</div>
<div class="section" id="id18">
<h3>[0.99.5] - 2020-08-27<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p>The macro <code class="docutils literal notranslate"><span class="pre">TSK_IMPUTE_MISSING_DATA</span></code> is renamed to <code class="docutils literal notranslate"><span class="pre">TSK_ISOLATED_NOT_MISSING</span></code>
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/716">#716</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/794">#794</a>)</p></li>
</ul>
<p><strong>New features</strong></p>
<ul class="simple">
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">TSK_KEEP_INPUT_ROOTS</span></code> option to simplify which, if enabled, adds edges
from the MRCAs of samples in the simplified tree sequence back to the roots
in the input tree sequence (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/775">#775</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/782">#782</a>).</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/tskit-dev/tskit/issues/777">#777</a> - Mutations over isolated samples were incorrectly decoded as
missing data. (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/778">#778</a>)</p></li>
<li><p><a class="reference external" href="https://github.com/tskit-dev/tskit/issues/776">#776</a> - Fix a segfault when a partial list of samples
was provided to the <code class="docutils literal notranslate"><span class="pre">variants</span></code> iterator. (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/778">#778</a>)</p></li>
</ul>
</div>
<div class="section" id="id19">
<h3>[0.99.4] - 2020-08-12<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<p><strong>Note</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">TSK_VERSION_PATCH</span></code> macro was incorrectly set to <code class="docutils literal notranslate"><span class="pre">4</span></code> for 0.99.3, so both
0.99.4 and 0.99.3 have the same value.</p></li>
</ul>
<p><strong>Changes</strong></p>
<ul class="simple">
<li><p>Mutation times can be a mixture of known and unknown as long as for each
individual site  they are either all known or all unknown (<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/761">#761</a>).</p></li>
</ul>
<p><strong>Bugfixes</strong></p>
<ul class="simple">
<li><p>Fix for including core.h under C++ (<a class="reference external" href="https://github.com/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/755">#755</a>).</p></li>
</ul>
</div>
<div class="section" id="id20">
<h3>[0.99.3] - 2020-07-27<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<p><strong>Breaking changes</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tsk_mutation_table_add_row</span></code> has an extra <code class="docutils literal notranslate"><span class="pre">time</span></code> argument. If the time
is unknown <code class="docutils literal notranslate"><span class="pre">TSK_UNKNOWN_TIME</span></code> should be passed.
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/672">#672</a>)</p></li>
<li><p>Change genotypes from unsigned to signed to accommodate missing data
(see <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/144">#144</a> for discussion). This only affects users of the
<code class="docutils literal notranslate"><span class="pre">tsk_vargen_t</span></code> class. Genotypes are now stored as int8_t and int16_t
types rather than the former unsigned types. The field names in the
genotypes union of the <code class="docutils literal notranslate"><span class="pre">tsk_variant_t</span></code> struct returned by <code class="docutils literal notranslate"><span class="pre">tsk_vargen_next</span></code>
have been renamed to <code class="docutils literal notranslate"><span class="pre">i8</span></code> and <code class="docutils literal notranslate"><span class="pre">i16</span></code> accordingly; care should be
taken when updating client code to ensure that types are correct. The number
of distinct alleles supported by 8 bit genotypes has therefore dropped
from 255 to 127, with a similar reduction for 16 bit genotypes.</p></li>
<li><p>Change the <code class="docutils literal notranslate"><span class="pre">tsk_vargen_init</span></code> method to take an extra parameter <code class="docutils literal notranslate"><span class="pre">alleles</span></code>.
To keep the current behaviour, set this parameter to NULL.</p></li>
<li><p>Edges can now have metadata. Hence edge methods now take two extra arguments:
metadata and metadata length. The file format has also changed to accommodate this,
but is backwards compatible. Edge metadata can be disabled for a table collection with
the TSK_NO_EDGE_METADATA flag.
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/496">#496</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/712">#712</a>)</p></li>
<li><p>Migrations can now have metadata. Hence migration methods now take two extra arguments:
metadata and metadata length. The file format has also changed to accommodate this,
but is backwards compatible.
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/505">#505</a>)</p></li>
<li><p>The text dump of tables with metadata now includes the metadata schema as a header.
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/493">#493</a>)</p></li>
<li><p>Bad tree topologies are detected earlier, so that it is no longer possible
to create a tsk_treeseq_t object which contains a parent with contradictory
children on an interval. Previously an error occured when some operation
building the trees was attempted (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/709">#709</a>).</p></li>
</ul>
<p><strong>New features</strong></p>
<ul class="simple">
<li><p>New methods to perform set operations on table collections.
<code class="docutils literal notranslate"><span class="pre">tsk_table_collection_subset</span></code> subsets and reorders table collections by nodes
(<a class="reference external" href="https://github.com/mufernando">&#64;mufernando</a>, <a class="reference external" href="https://github.com/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/663">#663</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/690">#690</a>).
<code class="docutils literal notranslate"><span class="pre">tsk_table_collection_union</span></code> forms the node-wise union of two table collections
(<a class="reference external" href="https://github.com/mufernando">&#64;mufernando</a>, <a class="reference external" href="https://github.com/petrelharp">&#64;petrelharp</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/381">#381</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/623">#623</a>).</p></li>
<li><p>Mutations now have an optional double-precision floating-point <code class="docutils literal notranslate"><span class="pre">time</span></code> column.
If not specified, this defaults to a particular NaN value (<code class="docutils literal notranslate"><span class="pre">TSK_UNKNOWN_TIME</span></code>)
indicating that the time is unknown. For a tree sequence to be considered valid
it must meet new criteria for mutation times, see <a class="reference internal" href="data-model.html#sec-mutation-requirements"><span class="std std-ref">Mutation requirements</span></a>.
Add <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_compute_mutation_times</span></code> and new flag to
<code class="docutils literal notranslate"><span class="pre">tsk_table_collection_check_integrity</span></code>:<code class="docutils literal notranslate"><span class="pre">TSK_CHECK_MUTATION_TIME</span></code>. Table sorting
orders mutations by non-increasing time per-site, which is also a requirement for a
valid tree sequence.
(<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/672">#672</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">metadata</span></code> and <code class="docutils literal notranslate"><span class="pre">metadata_schema</span></code> fields to table collection, with accessors on
tree sequence. These store arbitrary bytes and are optional in the file format.
(:user: <cite>benjeffery</cite>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/641">#641</a>)</p></li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">TSK_KEEP_UNARY</span></code> option to simplify (<a class="reference external" href="https://github.com/gtsambos">&#64;gtsambos</a>). See <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/1">#1</a>
and <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/143">#143</a>.</p></li>
<li><p>Add a <code class="docutils literal notranslate"><span class="pre">set_root_threshold</span></code> option to tsk_tree_t which allows us to set the
number of samples a node must be an ancestor of to be considered a root
(<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/462">#462</a>).</p></li>
<li><p>Change the semantics of tsk_tree_t so that sample counts are always
computed, and add a new <code class="docutils literal notranslate"><span class="pre">TSK_NO_SAMPLE_COUNTS</span></code> option to turn this
off (<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/462">#462</a>).</p></li>
<li><p>Tables with metadata now have an optional <cite>metadata_schema</cite> field that can contain
arbitrary bytes. (<a class="reference external" href="https://github.com/benjeffery">&#64;benjeffery</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/493">#493</a>)</p></li>
<li><p>Tables loaded from a file can now be edited in the same way as any other
table collection (<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/536">#536</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/530">#530</a>.</p></li>
<li><p>Support for reading/writing to arbitrary file streams with the loadf/dumpf
variants for tree sequence and table collection load/dump
(<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/grahamgower">&#64;grahamgower</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/565">#565</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/599">#599</a>).</p></li>
<li><p>Add low-level sorting API and <code class="docutils literal notranslate"><span class="pre">TSK_NO_CHECK_INTEGRITY</span></code> flag
(<a class="reference external" href="https://github.com/jeromekelleher">&#64;jeromekelleher</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/627">#627</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/issues/626">#626</a>).</p></li>
<li><p>Add extension of Kendall-Colijn tree distance metric for tree sequences
computed by <code class="docutils literal notranslate"><span class="pre">tsk_treeseq_kc_distance</span></code>
(<a class="reference external" href="https://github.com/daniel-goldstein">&#64;daniel-goldstein</a>, <a class="reference external" href="https://github.com/tskit-dev/tskit/pull/548">#548</a>)</p></li>
</ul>
<p><strong>Deprecated</strong></p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">TSK_SAMPLE_COUNTS</span></code> options is now ignored and  will print out a warning
if used (<a class="reference external" href="https://github.com/tskit-dev/tskit/pull/462">#462</a>).</p></li>
</ul>
</div>
<div class="section" id="id21">
<h3>[0.99.2] - 2019-03-27<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<p>Bugfix release. Changes:</p>
<ul class="simple">
<li><p>Fix incorrect errors on tbl_collection_dump (#132)</p></li>
<li><p>Catch table overflows (#157)</p></li>
</ul>
</div>
<div class="section" id="id22">
<h3>[0.99.1] - 2019-01-24<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<p>Refinements to the C API as we move towards 1.0.0. Changes:</p>
<ul class="simple">
<li><p>Change the <code class="docutils literal notranslate"><span class="pre">_tbl_</span></code> abbreviation to <code class="docutils literal notranslate"><span class="pre">_table_</span></code> to improve readability.
Hence, we now have, e.g., <code class="docutils literal notranslate"><span class="pre">tsk_node_table_t</span></code> etc.</p></li>
<li><p>Change <code class="docutils literal notranslate"><span class="pre">tsk_tbl_size_t</span></code> to <code class="docutils literal notranslate"><span class="pre">tsk_size_t</span></code>.</p></li>
<li><p>Standardise public API to use <code class="docutils literal notranslate"><span class="pre">tsk_size_t</span></code> and <code class="docutils literal notranslate"><span class="pre">tsk_id_t</span></code> as appropriate.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">tsk_flags_t</span></code> typedef and consistently use this as the type used to
encode bitwise flags. To avoid confusion, functions now have an <code class="docutils literal notranslate"><span class="pre">options</span></code>
parameter.</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_position_t</span></code> to <code class="docutils literal notranslate"><span class="pre">tsk_bookmark_t</span></code>.</p></li>
<li><p>Rename <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_reset_position</span></code> to <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_truncate</span></code>
and <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_record_position</span></code> to <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_record_num_rows</span></code>.</p></li>
<li><p>Generalise <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_sort</span></code> to take a bookmark as start argument.</p></li>
<li><p>Relax restriction that nodes in the <code class="docutils literal notranslate"><span class="pre">samples</span></code> argument to simplify must
currently be marked as samples. (<a class="reference external" href="https://github.com/tskit-dev/tskit/issues/72">https://github.com/tskit-dev/tskit/issues/72</a>)</p></li>
<li><p>Allow <code class="docutils literal notranslate"><span class="pre">tsk_table_collection_simplify</span></code> to take a NULL samples argument to
specify “all samples in the current tables”.</p></li>
<li><p>Add support for building as a meson subproject.</p></li>
</ul>
</div>
<div class="section" id="id23">
<h3>[0.99.0] - 2019-01-14<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<p>Initial alpha version of the tskit C API tagged. Version 0.99.x
represents the series of releases leading to version 1.0.0 which
will be the first stable release. After 1.0.0, semver rules
regarding API/ABI breakage will apply; however, in the 0.99.x
series arbitrary changes may happen.</p>
</div>
<div class="section" id="id24">
<h3>[0.0.0] - 2019-01-10<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h3>
<p>Initial extraction of tskit code from msprime. Relicense to MIT.
Code copied at hash 29921408661d5fe0b1a82b1ca302a8b87510fd23</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="tutorial.html" class="btn btn-neutral float-left" title="Tutorial" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2018-2020, Tskit developers

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>